  	{% load staticfiles %}
	{% load customfilter %}
       {% load humanize %}
   {% include "flightsearch/header.html" %}     
	 <title> {% block title %}{{ category_name }}{% endblock %}</title>
<!-- BODY SECTION/-->
<div class="main-holder container-fluid" style="padding-bottom:1px;">
    <div class="col-xs-12 nopadding">
      <div class="jumbotron">
        <div class="container">
          <div class="row">
            <div class="col-sm-12 col-xs-12 ">
            	<div class="col-xs-12 pl5 nopadding">
            		{%if message %}
			    	<h4 class"alert-danger">{{message}}</h4>
			    	{%endif%}
              		<h1 class=""><b>Find the best way to travel using your rewards points and miles.</b></h1>
            	</div> 
            </div>
          </div>
        </div>
        <div class="col-xs-12 xs-nopadding nopadding">
        	<div class="col-xs-12 xs-nopadding nopadding">
				<form class="form-horizontal" role="form" action="searchLoadingPage" method="post" id="flightSearchForm">
		        	{% csrf_token %}
			         <div class="col-xs-12 nopadding">
							<div class="container nopadding trip-custome">
								<div class="col-sm-12 col-xs-12 nopadding">
			                <div class="checkbox-inline mhr10px auto-crsr">
			                  <label><input type="radio" id="rt" name="trip" value="roundTripBtn"  class="curson" checked="checked"> Round-Trip</label>
			                </div>
			                <div class="checkbox-inline mhr10px auto-crsr" >
			                  <label ><input type="radio" id="ow" name="trip"  class="curson" value="oneWayBtn" {% if 'action' in request.GET and  request.GET.action == 'ow' or returndate == '' and search != '' %}checked="checked" {%endif%}> One-Way</label>
			                </div>
			                <div class="checkbox-inline mhr10px auto-crsr" >
			                  <label ><input type="radio" id="mc" value="multicity"  class="curson" name="trip" {% if 'action' in request.GET and  request.GET.action == 'mc' or 'multicitykeys' in request.GET %}checked="checked" {%endif%}> Multi-City</label>
			                </div>
			              </div>
			            </div>
			            {% if mc == 'mc' %}
			            
			            <input type="hidden" name="multicy" value="mc">
			            	<div class="container xs-nopadding">
			            		<div class="col-sm-12 col-xs-12 nopadding pl5 xs-pad-with-cross-btn custome-pd cstm-pd-another-field">
			              <div class="col-sm-2 col-xs-12 nopl xs-nopadding">
			                <div class="form-group nomr noml" class="ui-widget">
			                  <label class="sr-only" for="from">From:</label>
			                  <input type="search"  class=" form_val form-control depart_code"  name="from" placeholder="From" autocomplete="off" {% if searchparams%} value="{{searchparams.0.source}}"{% endif %}  >
			                  <input type="hidden"  class="fromid fromMain" name="fromMain[]" {% if searchparams%} value="{{searchparams.0.origin_airport_id}}"{% endif %} />
			                </div>
			              </div>
			              <div class="col-sm-2 col-xs-12 nopl xs-nopadding">
			                <div class="form-group  nomr noml" class="ui-widget">
			                  <label class="sr-only" for="to">To:</label>
			                  <input type="search"  class="form_val form-control arive_code"  name="to" placeholder="To" autocomplete="off" {% if searchparams%} value="{{searchparams.0.destination}}"{% endif %} >
			                  <input type="hidden"  class="fromid toMain" name="toMain[]" {% if searchparams%} value="{{searchparams.0.destination_airport_id}}"{% endif %}/>
			                </div>
			              </div>
			              <div class="input-daterange">
			              <div class="col-sm-2 col-xs-12 nopl xs-pr5 mobile-wt pd-xs-r-0 mvb10px">
			
			                <div class="form-group nomr noml nomb" >
			                  <label class="sr-only" for="departMain">Departure Date:</label>
			                  <div class="inner-addon left-addon date" id="dp1">
			                      <i class="glyphicon glyphicon-calendar"></i>
			                      <input type="text"  class="form_val form-control calender_class curson deptdate"  placeholder="Depart" name="deptdate[]" autocomplete="off" {% if searchparams%} value="{{searchparams.0.traveldate|date:"m/d/Y"}}"{% endif %} id="calenderid1">
			                  		<input type="hidden" id="dateval" value="">
			                  </div>
			                  
			                </div>
			                 
			              </div>
			              
			              </div>
			           <div class="col-sm-2 col-xs-12 xs-nopadding hidden-xs" >
			                <button type="submit" class="form_val btn btn-pexSearch" id="submitid" tabindex="13">Search</button>
			              </div>
			             	<!-- <a href="#" class="col-sm-2 col-xs-6 xs-nopadding hidden-xs remove_field">Remove</a> 
			         		<a href="#" class="glyphicon glyphicon-remove visible-xs cross-btn remove_field"></a>-->
			            </div>
			            </div>
			            
			            
		        		<div class="col-xs-12 nopadding addmore">
		        		{% if searchparams %}
		        		{% for d in searchparams %}
		        		{% if forloop.counter > 1 %}
		        			<div class="container xs-nopadding hidden-xs">
			            <div class="col-sm-12 col-xs-12 nopadding pl5 pd-xs custome-pd">
			              <div class="col-sm-2 col-xs-12 nopl xs-nopadding">
			                <div class="form-group nomr noml" class="ui-widget">
			                  <label class="sr-only" for="from">From:</label>
			                  <input type="search"  class=" form_val form-control depart_code"  name="from" placeholder="From" autocomplete="off" value="{{d.source}}" >
			                  <input type="hidden"  class="fromid fromMain" name="fromMain[]" value="{{d.origin_airport_id}}"/>
			                </div>
			              </div>
			              <div class="col-sm-2 col-xs-12 nopl xs-nopadding">
			                <div class="form-group  nomr noml" class="ui-widget">
			                  <label class="sr-only" for="to">To:</label>
			                  <input type="search"   class="form_val form-control arive_code"  name="to" placeholder="To" autocomplete="off" value="{{d.destination}}" >
			                  <input type="hidden"  class="fromid toMain" name="toMain[]" value="{{d.destination_airport_id}}"/>
			                </div>
			              </div>
			              <div class="input-daterange">
			              <div class="col-sm-2 col-xs-6 nopl xs-pr5 mobile-wt">
			
			                <div class="form-group nomr noml nomb">
			                  <label class="sr-only" for="departMain">Departure Date:</label>
			                  <div class="inner-addon left-addon date" id="dp1">
			                      <i class="glyphicon glyphicon-calendar"></i>
			                      <input type="text" class="form_val form-control calender_class curson deptdate"  placeholder="Depart" name="deptdate[]" autocomplete="off"  value="{{d.traveldate|date:'m/d/Y'}}">
			                  </div>
			                </div>
			              </div>
			              </div>
			  				<a href="#" class="col-sm-2 col-xs-6 xs-nopadding remove_field"> Remove</a>
			        
			              </div>
			              
			            </div>
		        			
		        		{% endif %}
		        		{% endfor %}
		        		{% else %}
		        		<div class="container xs-nopadding hidden-xs">
			            <div class="col-sm-12 col-xs-12 nopadding pl5 pd-xs custome-pd">
			              <div class="col-sm-2 col-xs-12 nopl xs-nopadding">
			                <div class="form-group nomr noml" class="ui-widget">
			                  <label class="sr-only" for="from">From:</label>
			                  <input type="search" id="fromOrigin2"  class=" form_val form-control depart_code"  name="from" placeholder="From" autocomplete="off" {% if search %} value="{{search.source}}" {%endif%}>
			                  <input type="hidden" id="fromid2" class="fromid fromMain" name="fromMain[]"/>
			                </div>
			              </div>
			              <div class="col-sm-2 col-xs-12 nopl xs-nopadding">
			                <div class="form-group  nomr noml" class="ui-widget">
			                  <label class="sr-only" for="to">To:</label>
			                  <input type="search"  class="form_val form-control arive_code"  name="to" placeholder="To" autocomplete="off" {% if search %} value="{{search.destination}}" {%endif%}>
			                  <input type="hidden" id="toid2" class="fromid toMain" name="toMain[]"/>
			                </div>
			              </div>
			              <div class="input-daterange">
			              <div class="col-sm-2 col-xs-6 nopl xs-pr5 mobile-wt">
			
			                <div class="form-group nomr noml nomb">
			                  <label class="sr-only" for="departMain">Departure Date:</label>
			                  <div class="inner-addon left-addon date" id="dp1">
			                      <i class="glyphicon glyphicon-calendar"></i>
			                      <input type="text" id="calenderid2" class="form_val form-control calender_class curson"  placeholder="Depart" name="deptdate[]" autocomplete="off" {% if search %} value="{{search.traveldate|date:'m/d/Y'}}" {%endif%}>
			                  </div>
			     
			                </div>
			              </div>
			              </div>
			  				<a href="#" class="col-sm-2 col-xs-6 xs-nopadding remove_field"> Remove</a>
			        
			              </div>
			              
			            </div>
			            <div class="container xs-nopadding hidden-xs">
			            <div class="col-sm-12 col-xs-12 nopadding pl5 pd-xs custome-pd">
			              <div class="col-sm-2 col-xs-12 nopl xs-nopadding">
			                <div class="form-group nomr noml" class="ui-widget">
			                  <label class="sr-only" for="from">From:</label>
			                  <input type="search"  class=" form_val form-control depart_code"  name="from" placeholder="From" autocomplete="off" {% if search %} value="{{search.source}}" {%endif%}>
			                  <input type="hidden" class="fromid fromMain" name="fromMain[]"/>
			                </div>
			              </div>
			              <div class="col-sm-2 col-xs-12 nopl xs-nopadding">
			                <div class="form-group  nomr noml" class="ui-widget">
			                  <label class="sr-only" for="to">To:</label>
			                  <input type="search"  class="form_val form-control arive_code"  name="to" placeholder="To" autocomplete="off" {% if search %} value="{{search.destination}}" {%endif%}>
			                  <input type="hidden"  class="fromid toMain" name="toMain[]"/>
			                </div>
			              </div>
			              <div class="input-daterange">
			              <div class="col-sm-2 col-xs-6 nopl xs-pr5 mobile-wt ">
			
			                <div class="form-group nomr noml nomb">
			                  <label class="sr-only" for="departMain">Departure Date:</label>
			                  <div class="inner-addon left-addon date" id="dp1">
			                      <i class="glyphicon glyphicon-calendar"></i>
			                      <input type="text" id="calenderid3" class="form_val form-control calender_class curson"  placeholder="Depart" name="deptdate[]" autocomplete="off" {% if search %} value="{{search.traveldate|date:'m/d/Y'}}" {%endif%}>
			                  </div>
			     
			                </div>
			              </div>
			              </div>
			  				<a href="#" class="col-sm-2 col-xs-6 xs-nopadding remove_field"> Remove</a>
			        	  </div>
			              
			            </div>
			           {% endif %}
			            </div>
			          <div class="col-xs-12 nopadding custome-pd-cross pd-tp-0">
			            
			            	<div class="container xs-nopadding">
			            
			             <div class="col-xs-12 nopadding pl5 pd-xs-0">
			              <div class="col-sm-2 col-xs-12 xs-nopadding nopl pd-xs custome-pd  for_cabin_class pd-cs-new-xs" id="cabintab" style="border:0px;">
			                <div class="form-group travelers-dpdn-details no-margin" class="ui-widget" style="border: 1px solid #ddd; border-radius: 4px;">
			                  <div class="dropdown travelers-holder form-control">
			                  	<span class="curson" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span id="travelar">1 adult, Economy</span> <span class="caret"></span></span>
			                  	<div class="travelers-down-menu dropdown-menu for_cabin_class" aria-labelledby="dropdownMenu1">
			                  		<div class="col-xs-12 down-menu-block">
										<span class="col-xs-4 nopadding">Class</span>
										<span class="col-xs-8 text-right nopr"><select class="custom-field-control curson" id="cabintype" name="cabintype" tabindex="6">
											<option class="cabin" value="maincabin">Economy</option>
											<option class="cabin" value="firstclass" {% if 'cabin' in request.GET and  request.GET.cabin == 'firstclass'%}selected="selected" {%endif%} >Business</option>
											<option  class="cabin" value="business" {% if 'cabin' in request.GET and  request.GET.cabin == 'business'%}selected="selected" {%endif%}>First</option>
											</select></span>                  			
			                  		</div>
			                  		<div class="col-xs-12 alert alert-warning"> </div>
			                  		<div class="col-xs-12 down-menu-block">
			                  			<p>
										<span class="col-xs-4 nopadding">Adults</span>
										<span class="col-xs-5 text-right nopadding">
											<span class="btn btn-default btn-xs minus"><span class="glyphicon glyphicon-minus"></span></span>
											<input type="text" class="field-width custom-field-control numberHolder qty" value="1" id="adults" tabindex="7">
											<span class="btn btn-default btn-xs add"><span class="glyphicon glyphicon-plus"></span></span>								
										</span>
										<span class="col-xs-3 nopr">18+</span> 
										</p>                 			
			                  		</div>
			                  		<div class="col-xs-12 down-menu-block">
			                  			<p>
										<span class="col-xs-4 nopadding">Seniors</span>
										<span class="col-xs-5 text-right nopadding">
											<span class="btn btn-default btn-xs minus"><span class="glyphicon glyphicon-minus"></span></span>
											<input type="text" class="field-width custom-field-control numberHolder qty" value="0" id="senior" tabindex="8">
											<span class="btn btn-default btn-xs add"><span class="glyphicon glyphicon-plus"></span></span>								
											
										</span>
										<span class="col-xs-3 nopr">65+</span> 
										</p>                 			
			                  		</div>
			                  		<div class="col-xs-12 down-menu-block">
			                  			<p>
										<span class="col-xs-4 nopadding">Youths</span>
										<span class="col-xs-5 text-right nopadding">
											<span class="btn btn-default btn-xs minus"><span class="glyphicon glyphicon-minus"></span></span>
											<input type="text" class="field-width custom-field-control numberHolder qty" value="0" id="youth" tabindex="9">
											<span class="btn btn-default btn-xs add"><span class="glyphicon glyphicon-plus"></span></span>								
											
										</span>
										<span class="col-xs-3 nopr">12-17</span>  
										</p>                			
			                  		</div>
			                  		<div class="col-xs-12 down-menu-block">
			                  			<p>
										<span class="col-xs-4 nopadding">Children</span>
										<span class="col-xs-5 text-right nopadding">
											<span class="btn btn-default btn-xs minus"><span class="glyphicon glyphicon-minus"></span></span>
											<input type="text" class="field-width custom-field-control numberHolder qty" value="0" id="children" tabindex="10">								
											<span class="btn btn-default btn-xs add"><span class="glyphicon glyphicon-plus"></span></span>
											
										</span>
										<span class="col-xs-3 nopr">2-11</span>
										</p>                  			
			                  		</div>
			                  		<div class="col-xs-12 down-menu-block">
			                  			<p>
										<span class="col-xs-4 nopadding">Seat infants</span>
										<span class="col-xs-5 text-right nopadding">
											<span class="btn btn-default btn-xs minus"><span class="glyphicon glyphicon-minus"></span></span>
											<input type="text" class="field-width custom-field-control numberHolder qty" value="0" id="seatinfants" tabindex="11">								
											<span class="btn btn-default btn-xs add"><span class="glyphicon glyphicon-plus"></span></span>
											
										</span>
										<span class="col-xs-3 nopr">under 2</span>  
										</p>                			
			                  		</div>
			                  		<div class="col-xs-12 down-menu-block">
			                  			<p>
										<span class="col-xs-4 nopadding">Lap infants</span>
										<span class="col-xs-5 text-right nopadding">
											<span class="btn btn-default btn-xs minus"><span class="glyphicon glyphicon-minus"></span></span>
											<input type="text" class="field-width custom-field-control numberHolder qty" value="0" id="lapinfants" tabindex="12">								
											<span class="btn btn-default btn-xs add"><span class="glyphicon glyphicon-plus"></span></span>
											
										</span>
										<span class="col-xs-3 nopr">under 2</span> 
										</p>                 			
			                  		</div>
			                  		<div class="col-xs-12 down-menu-block">
			                  			
			                  				<span class="btn btn-pexSearch" id="apply_traveler">Apply</span>
			                  			
			                  		</div>
			                  		<input type="hidden" id="passenger" name="passenger" value="">
			                  	</div>
			                  </div>
			                </div>
			               </div>
			                <div class="col-sm-2 col-xs-12 xs-nopadding nopl pd-xs custome-pd  for_cabin_class"> 
			                <a href="#" class="add_field_button" style="width:100%;"> Add Another Flight</a>
			               </div>
			              </div>
						<div class="col-sm-2 col-xs-12 xs-nopadding visible-xs" >
							<div class="col-sm-2 col-xs-12 pl5 pr10">
			                <button type="submit" class="form_val btn btn-pexSearch" id="submitid" tabindex="13">Search</button>
			              </div>
			              </div>				            

			            {% else %}	            
			            <div class="container xs-nopadding">
			            <div class="col-sm-12 col-xs-12 nopadding pl5 pd-xs custome-pd">
			              <div class="col-sm-2 col-xs-12 nopl xs-nopadding">
			                <div class="form-group nomr noml" class="ui-widget">
			                  <label class="sr-only" for="from">From:</label>
			                  <input type="search" tabindex="1" class=" form_val form-control" id="from" name="from" placeholder="From" autocomplete="off" {% if search %} value="{{search.source}}"{%endif%}>
			                  <input type="hidden" id="fromid" name="fromMain[]" {% if search %} value="{{search.origin_airport_id}}"{%endif%}/>
			                </div>
			              </div>
			              <div class="col-sm-2 col-xs-12 nopl xs-nopadding">
			                <div class="form-group  nomr noml" class="ui-widget">
			                  <label class="sr-only" for="to">To:</label>
			                  <input type="search" tabindex="2" class="form_val form-control" id="to" name="to" placeholder="To" autocomplete="off" {% if search %} value="{{search.destination}}"{%endif%} >
			                  <input type="hidden" id="toid" name="toMain[]" {% if search %} value="{{search.destination_airport_id}}"{%endif%} />
			                </div>
			              </div>
			              <div class="input-daterange">
			              <div class="col-sm-2 col-xs-6 nopl xs-pr5 mobile-wt">
			
			                <div class="form-group nomr noml nomb no-margin-md-form" id="rmv_nomr">
			                  <label class="sr-only" for="departMain">Departure Date:</label>
			                  <div class="inner-addon left-addon date" id="dp1">
			                      <i class="glyphicon glyphicon-calendar"></i>
			                      <input type="text" tabindex="3" class="form_val form-control curson" id="departMain" placeholder="Depart" name="deptdate[]" autocomplete="off" {% if search %} value="{{search.traveldate|date:'m/d/Y'}}"{%endif%}>
			                  </div>
			                  <div class="form-group" id="deptmsg"></div>
			                </div>
			              </div>
			              <div class="col-sm-2 col-xs-6 xs-nopadding xs-pl5 pd-le-md" id="return">
			                <div class="form-group nomr noml">
			                  <label class="sr-only" for="returnMain">Return Date:</label>
			                  <div class="inner-addon left-addon date" id="dp2">
			                      <i class="glyphicon glyphicon-calendar"></i>
			                      <input type="text" tabindex="4" class="form_val form-control curson" id="returnMain" placeholder="Return" name="returndate" autocomplete="off" {% if returndate %} value="{{returndate|date:'m/d/Y'}}"{% endif %}>
			                  </div>
			                </div>
			              </div>
			              </div>
			              <div class="col-sm-2 col-xs-12 nopadding for_cabin_class" id="cabintab" tabindex="5">
			                <div class="form-group travelers-dpdn-details no-margin" class="ui-widget">
			                  <div class="dropdown travelers-holder form-control">
			                  	<span class="curson" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span id="travelar">1 adult, Economy</span> <span class="caret"></span></span>
			                  	<div class="travelers-down-menu dropdown-menu for_cabin_class" aria-labelledby="dropdownMenu1">
			                  		<div class="col-xs-12 down-menu-block">
										<span class="col-xs-4 nopadding">Class</span>
										<span class="col-xs-8 text-right nopr"><select class="custom-field-control curson" id="cabintype" name="cabintype" tabindex="6">
											<option class="cabin" value="maincabin">Economy</option>
											<option class="cabin" value="firstclass" {% if 'cabin' in request.GET and  request.GET.cabin == 'firstclass'%}selected="selected" {%endif%}>Business</option>
											<option  class="cabin" value="business" {% if 'cabin' in request.GET and  request.GET.cabin == 'business'%}selected="selected" {%endif%}>First</option>
											</select></span>                  			
			                  		</div>
			                  		<div class="col-xs-12 alert alert-warning"> </div>
			                  		<div class="col-xs-12 down-menu-block">
			                  			<p>
										<span class="col-xs-4 nopadding">Adults</span>
										<span class="col-xs-5 text-right nopadding">
											<span class="btn btn-default btn-xs minus"><span class="glyphicon glyphicon-minus"></span></span>
											<input type="text" class="field-width custom-field-control numberHolder qty" value="1" id="adults" tabindex="7">
											<span class="btn btn-default btn-xs add"><span class="glyphicon glyphicon-plus"></span></span>								
										</span>
										<span class="col-xs-3 nopr">18+</span> 
										</p>                 			
			                  		</div>
			                  		<div class="col-xs-12 down-menu-block">
			                  			<p>
										<span class="col-xs-4 nopadding">Seniors</span>
										<span class="col-xs-5 text-right nopadding">
											<span class="btn btn-default btn-xs minus"><span class="glyphicon glyphicon-minus"></span></span>
											<input type="text" class="field-width custom-field-control numberHolder qty" value="0" id="senior" tabindex="8">
											<span class="btn btn-default btn-xs add"><span class="glyphicon glyphicon-plus"></span></span>								
											
										</span>
										<span class="col-xs-3 nopr">65+</span> 
										</p>                 			
			                  		</div>
			                  		<div class="col-xs-12 down-menu-block">
			                  			<p>
										<span class="col-xs-4 nopadding">Youths</span>
										<span class="col-xs-5 text-right nopadding">
											<span class="btn btn-default btn-xs minus"><span class="glyphicon glyphicon-minus"></span></span>
											<input type="text" class="field-width custom-field-control numberHolder qty" value="0" id="youth" tabindex="9">
											<span class="btn btn-default btn-xs add"><span class="glyphicon glyphicon-plus"></span></span>								
											
										</span>
										<span class="col-xs-3 nopr">12-17</span>  
										</p>                			
			                  		</div>
			                  		<div class="col-xs-12 down-menu-block">
			                  			<p>
										<span class="col-xs-4 nopadding">Children</span>
										<span class="col-xs-5 text-right nopadding">
											<span class="btn btn-default btn-xs minus"><span class="glyphicon glyphicon-minus"></span></span>
											<input type="text" class="field-width custom-field-control numberHolder qty" value="0" id="children" tabindex="10">								
											<span class="btn btn-default btn-xs add"><span class="glyphicon glyphicon-plus"></span></span>
											
										</span>
										<span class="col-xs-3 nopr">2-11</span>
										</p>                  			
			                  		</div>
			                  		<div class="col-xs-12 down-menu-block">
			                  			<p>
										<span class="col-xs-4 nopadding">Seat infants</span>
										<span class="col-xs-5 text-right nopadding">
											<span class="btn btn-default btn-xs minus"><span class="glyphicon glyphicon-minus"></span></span>
											<input type="text" class="field-width custom-field-control numberHolder qty" value="0" id="seatinfants" tabindex="11">								
											<span class="btn btn-default btn-xs add"><span class="glyphicon glyphicon-plus"></span></span>
											
										</span>
										<span class="col-xs-3 nopr">under 2</span>  
										</p>                			
			                  		</div>
			                  		<div class="col-xs-12 down-menu-block">
			                  			<p>
										<span class="col-xs-4 nopadding">Lap infants</span>
										<span class="col-xs-5 text-right nopadding">
											<span class="btn btn-default btn-xs minus"><span class="glyphicon glyphicon-minus"></span></span>
											<input type="text" class="field-width custom-field-control numberHolder qty" value="0" id="lapinfants" tabindex="12">								
											<span class="btn btn-default btn-xs add"><span class="glyphicon glyphicon-plus"></span></span>
											
										</span>
										<span class="col-xs-3 nopr">under 2</span> 
										</p>                 			
			                  		</div>
			                  		<div class="col-xs-12 down-menu-block">
			                  			
			                  				<span class="btn btn-pexSearch" id="apply_traveler">Apply</span>
			                  			
			                  		</div>
			                  		<input type="hidden" id="passenger" name="passenger" value="">
			                  	</div>
			                  </div>
			                </div>
			                
			              </div>
			              <div class="col-sm-2 col-xs-12 xs-nopadding" >
			                <button type="submit" class="form_val btn btn-pexSearch" id="submitid" tabindex="13">Search</button>
			              </div>
			            </div>
			            </div>
			            {% endif %}
			          </div>
			          </div>
			          </div>
			        </form>	        		
        	

<div class="container mvb60px mediaadd" id="add-section">
    		<h1 style="margin-left: 5px;"> <b>Search numerous travel sites for your rewards flight.  Fly to:</b></h1>
			
			<div class="row">
				<div class="col-md-6 col-xs-12 padding-add">
					<div class="col-xs-12 add-pic sngl">
						<a href="{%if searchObj.0 %}getsearchresult?keyid={{searchObj.0.searchkeyid}}&cabin=maincabin&passenger=1{%else%}#{%endif%}">
							<span style="background:url('{%if searchObj.0 and searchObj.0.image_path %}{{searchObj.0.image_path}}{%else%}{% static 'flightsearch/img/ad.jpg' %}{%endif%}') no-repeat;background-size:cover;background-position:center;"></span>
							<div class="add-info">
								<span class="place"><span class="glyphicon glyphicon-map-marker"
									aria-hidden="true">
									{%if searchObj.0 %}
									</span>{{searchObj.0.final_dest}}</span> <span class="rate">{{searchObj.0.maincabin|divisition}}K Miles + ${{searchObj.0.maintax}}</span>
									{%endif%}
							</div> </a>
					</div>
				</div>

				<div class="col-md-6 col-xs-12 padding-add doble-img" >
					<div class="row">
						<div class="col-md-6 col-xs-12 add-pic">
						
							<a href="{%if searchObj.1 %}getsearchresult?keyid={{searchObj.1.searchkeyid}}&cabin=maincabin&passenger=1{%else%}#{%endif%}">
								<span style="background:url('{%if searchObj.1 and searchObj.1.image_path %}{{searchObj.1.image_path}}{%else%}{% static 'flightsearch/img/ad1.jpg' %}{%endif%}') no-repeat;background-size:cover;background-position:center;"></span>
								<div class="add-info">
									<span class="place"><span
										class="glyphicon glyphicon-map-marker" aria-hidden="true">
									{%if searchObj.1 %}
									</span>{{searchObj.1.final_dest}} </span> <span class="rate">{{searchObj.1.maincabin|divisition}}K Miles + ${{searchObj.1.maintax}}</span>
									{%endif%}
								</div> </a>
							
						</div>
						<div class="col-md-6 col-xs-12 add-pic">
							<a href="{%if searchObj.4 %}getsearchresult?keyid={{searchObj.4.searchkeyid}}&cabin=maincabin&passenger=1{%else%}#{%endif%}">
								<span style="background:url('{%if searchObj.4 and searchObj.4.image_path %}{{searchObj.4.image_path}}{%else%}{% static 'flightsearch/img/ad2.jpg' %}{%endif%}') no-repeat;background-size:cover;background-position:center;"></span>
								
								<div class="add-info">
									<span class="place"><span
										class="glyphicon glyphicon-map-marker" aria-hidden="true"></span>
										{%if searchObj.4 %}
									</span>{{searchObj.4.final_dest}}</span> <span class="rate">{{searchObj.4.maincabin|divisition}}K Miles + ${{searchObj.4.maintax}}</span>
									{%endif%}
								</div></a>
						</div>
						<div class="col-md-6 col-xs-12 add-pic">
							<a href="{%if searchObj.5 %}getsearchresult?keyid={{searchObj.5.searchkeyid}}&cabin=maincabin&passenger=1{%else%}#{%endif%}">
								<span style="background:url('{%if searchObj.5 and searchObj.5.image_path %}{{searchObj.5.image_path}}{%else%}{% static 'flightsearch/img/ad3.jpg' %}{%endif%}') no-repeat;background-size:cover;background-position:center;"></span>
								
								<div class="add-info">
									<span class="place"><span
										class="glyphicon glyphicon-map-marker" aria-hidden="true">
										{%if searchObj.5 %}
									</span>{{searchObj.5.final_dest}}</span> <span class="rate">{{searchObj.5.maincabin|divisition}}K Miles + ${{searchObj.5.maintax}}</span>
									{%endif%}
								</div></a>
						</div>
						<div class="col-md-6 col-xs-12 add-pic">
							<a href="{%if searchObj.2 %}getsearchresult?keyid={{searchObj.2.searchkeyid}}&cabin=maincabin&passenger=1{%else%}#{%endif%}">
								<span style="background:url('{%if searchObj.2 and searchObj.2.image_path %}{{searchObj.2.image_path}}{%else%}{% static 'flightsearch/img/ad4.png' %}{%endif%}') no-repeat;background-size:cover;background-position:center;"></span>
								
								<div class="add-info">
									<span class="place"><span
										class="glyphicon glyphicon-map-marker" aria-hidden="true">
										{%if searchObj.2 %}
									</span>{{searchObj.2.final_dest}}</span> <span class="rate">{{searchObj.2.maincabin|divisition}}K Miles + ${{searchObj.2.maintax}}</span>
									{%endif%}
								</div></a>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-md-6 col-xs-12 padding-add doble-img">
					<div class="row">
						<div class="col-md-6 col-xs-12 add-pic">
							<a href="{%if searchObj.3 %}getsearchresult?keyid={{searchObj.3.searchkeyid}}&cabin=maincabin&passenger=1{%else%}#{%endif%}">
							
							<span style="background:url('{%if searchObj.3 and searchObj.3.image_path %}{{searchObj.3.image_path}}{%else%}{% static 'flightsearch/img/ad5.jpg' %}{%endif%}') no-repeat;background-size:cover;background-position:center;"></span>
								<div class="add-info">
									<span class="place"><span
										class="glyphicon glyphicon-map-marker" aria-hidden="true"></span>
											{%if searchObj.3 %}
									</span>{{searchObj.3.final_dest}}</span> <span class="rate">{{searchObj.3.maincabin|divisition}}K Miles + ${{searchObj.3.maintax}} </span>
									{%endif%}
								</div></a>
						</div>
						<div class="col-md-6 col-xs-12 add-pic">
							<a href="{%if searchObj.7 %}getsearchresult?keyid={{searchObj.7.searchkeyid}}&cabin=maincabin&passenger=1{%else%}#{%endif%}">
								
								<span style="background:url('{%if searchObj.7 and searchObj.7.image_path %}{{searchObj.7.image_path}}{%else%}{% static 'flightsearch/img/ad.jpg' %}{%endif%}') no-repeat;background-size:cover;background-position:center;"></span>
								<div class="add-info">
									<span class="place"><span
										class="glyphicon glyphicon-map-marker" aria-hidden="true"></span>
										{%if searchObj.7 %}
									</span>{{searchObj.7.final_dest}}</span> <span class="rate">{{searchObj.7.maincabin|divisition}}K Miles + ${{searchObj.7.maintax}} </span>
									{%endif%}
								</div></a>	
						</div>
						
					</div>
				</div>
				<div class="col-md-6 col-xs-12 padding-add single-g">
					<div class="col-xs-12 add-pic sngl rsonsv-img">
						<a href="{%if searchObj.6 %}getsearchresult?keyid={{searchObj.6.searchkeyid}}&cabin=maincabin&passenger=1{%else%}#{%endif%}">
							
							<span style="background:url('{%if searchObj.6 and searchObj.6.image_path %}{{searchObj.6.image_path}}{%else%}{% static 'flightsearch/img/ad7.jpg' %}{%endif%}') no-repeat;background-size:cover;background-position:center;"></span>
							<div class="add-info">
								<span class="place"><span class="glyphicon glyphicon-map-marker"
									aria-hidden="true"></span>
									{%if searchObj.6 %}
									</span>{{searchObj.6.final_dest}}</span> <span class="rate">{{searchObj.6.maincabin|divisition}}K Miles + ${{searchObj.6.maintax}}</span>
									{%endif%}
							</div></a>
					</div>
				</div>
			</div>
		</div> 
	</div>
        </div>
      </div>
    </div><!-- /container -->  
</div>
      {% include "flightsearch/footer.html" %}

      
             

    


    <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.11.2.min.js"><\/script>');</script>
	
    <script src="{% static 'flightsearch/js/vendor/bootstrap.min.js' %}"></script>
   
    
   <!-- <script src="{% static 'test1/js/main.js' %}"></script> -->

    <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
    <script>
        (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
        function(){(b[l].q=b[l].q||[]).push(arguments);});b[l].l=+new Date;
        e=o.createElement(i);r=o.getElementsByTagName(i)[0];
        e.src='//www.google-analytics.com/analytics.js';
        r.parentNode.insertBefore(e,r);}(window,document,'script','ga'));
        ga('create','UA-XXXXX-X','auto');ga('send','pageview');
        
        $( "#cabintab" ).focus(function(){
		$(".travelers-holder").addClass('open');
		return false;
	});
	$( "#cabintab" ).click(function(){
		$(".travelers-holder").addClass('open');
		return false;
	});
	$(".form_val").focus(function(){
		if(!$(this).hasClass("cabin_type")){ $(".travelers-holder").removeClass('open'); }
	});
	
	$('#apply_traveler').click(function(){
		$(".travelers-holder").removeClass('open');
	});
    </script>
    <script>
		$(document).ready(function() {
		addDynamic('arive_code','toDest');
	    addDynamic('toMain','toid');
	    addDynamic('fromMain','fromid');
	    addDynamic('depart_code','fromOrigin');
	    addDynamic('calender_class','departMain');
	    var max_fields = 6; //maximum input boxes allowed
	    var add_button = $(".add_field_button"); //Add button ID
	    var x = 3; //initlal text box count
	    var newid = 4;
	    $(add_button).click(function(e){ 
	    	var html='';
	        e.preventDefault();
	        	html='';
	        	html = '<div class="container xs-nopadding"><div class="col-sm-12 col-xs-12 nopadding pl5 xs-pad-with-cross-btn custome-pd ">';
				html = html+'<div class="col-sm-2 col-xs-12 nopl xs-nopadding"><div class="form-group nomr noml" class="ui-widget"><label class="sr-only" for="from">From:</label>';
				html = html+' <input type="search" class=" form_val form-control depart_code"  name="from" placeholder="From" autocomplete="off" >';
				html=html+'<input type="hidden"  class="fromid fromMain" name="fromMain[]" /></div></div><div class="col-sm-2 col-xs-12 nopl xs-nopadding">';
				html=html+'<div class="form-group  nomr noml" class="ui-widget"><label class="sr-only" for="to">To:</label><input type="search"  class="form_val form-control arive_code"  name="to" placeholder="To" autocomplete="off" >';
				html=html+'<input type="hidden"  class="fromid toMain" name="toMain[]" /></div></div><div class="input-daterange"><div class="col-sm-2 col-xs-12 nopl xs-pr5 mobile-wt pd-xs-r-0">';
				html=html+'<div class="form-group nomr noml nomb"><label class="sr-only" for="departMain">Departure Date:</label><div class="inner-addon left-addon date" id="dp1">';
				html=html+'<i class="glyphicon glyphicon-calendar"></i><input type="text" id="calenderid'+newid+'" class="form_val form-control calender_class curson"  placeholder="Depart" name="deptdate[]" autocomplete="off" ></div></div></div></div><a href="#" class="col-sm-2 col-xs-6 hidden-xs xs-nopadding remove_field"> Remove</a><a href="#" class="glyphicon glyphicon-remove visible-xs cross-btn remove_field"></a></div></div>';

	        if(x < max_fields){ //max input box allowed
	            x++; //text box increment
	            $('.addmore').append($(html));
	            addDynamic('arive_code','toDest');
	            addDynamic('toMain','toid');
	            addDynamic('fromMain','fromid');
	            addDynamic('depart_code','fromOrigin');
	            addDynamic('calender_class','departMain');
	            $('.addmore').find(".depart_code, .arive_code").autocomplete({
				open: function(event, ui) {
	        	$('.ui-autocomplete').off('menufocus hover mouseover');
			    		},
					autoFocus: true,
			    	source: "get_airport/",
			    	minLength: 2,
			    	select: function(event, ui) {
			    		var hiddenid = $(this).siblings('.fromid').attr('id');
			    		$("#"+hiddenid).val(ui.item.id);
			    	},
				});
				newid = newid+1;
	            html=''; //add input box
	        }
	    });
	    $(document).on('focus',".depart_code", function() {
	    	var field_id = $(this).attr('id');
	    	var idNumber = parseInt((field_id.slice(-1)));
	    	if(idNumber > 0)
	    	{
	    		var previous_id = idNumber - 1;
	    		var airport_name_id = "#toDest"+(previous_id);
	    		var airport_code_id = "#toid"+(previous_id);
	    		$('#'+field_id).val($(airport_name_id).val());
	    		$('#fromid'+idNumber).val($(airport_code_id).val());
	    		$('#'+field_id).css('border-color','');
	    	}
	    	
	    });
	   	function addDynamic(class_name,idText)
	   	{
	   		var m = 0;
	    	$("."+class_name).each(function() {
	    	var	dynamic_origin_id = idText+m; 
	         $(this).attr('id', dynamic_origin_id);
	         m++;
	    	});
	    	
	   	}
	    $('.remove_field').on('click',function (e) {
	    	
		  e.preventDefault(); $(this).parent('div').remove(); x--;
		  
		});
	   
	    $('.addmore').on("click",".remove_field", function(e){ //user click on remove text
	        e.preventDefault(); $(this).parent('div').remove(); x--;
	        newid = newid-1;
	    });
	   
	});
	
	$(document).on('focus',".calender_class", function() {
	    var calenderId = parseInt(($(this).attr('id').slice(-1)));
	    var minDate1 = 0;
	    
	    for(var i=0; i < calenderId; i++)
	    {
	    	if($('#departMain'+i).val() != '')
	    	{
	    		
	    		minDate1 = $('#departMain'+i).val();
	    	}
	    }
	    
		$('#'+$(this).attr('id')).datepicker(
               	{
               		minDate: minDate1
               	}
               	
               );
		
	});
	
	</script>
        
    <script>
    
    $(document).ready(function(){
    	if($("#ow").prop('checked') == true){
    			$("#return").hide();
    			$('.mobile-wt').removeClass('col-xs-6 xs-pr5');
    			$('.mobile-wt').addClass('col-xs-12');
    			$('#rmv_nomr').removeClass('nomr');
    		}
    		else
    		{
    			$("#return").show();
    		}
    		if($("#rt").prop('checked') == true){
    			$("#return").show();
    		}
    });
    	var action = "{{mc}}" ;
    	$("#ow").click(function(){
    		
    		if(action == 'mc'){
    			redirect('ow');
    		}
    		
    		if($("#ow").prop('checked') == true){
    			$("#return").hide();
    			$('.mobile-wt').removeClass('col-xs-6 xs-pr5');
    			$('.mobile-wt').addClass('col-xs-12');
    			$('#rmv_nomr').removeClass('nomr');
    		}
    		else
    		{
    			$("#return").show();
    		}
    		
    	});
    	$('#mc').click(function() {
    		if(action != 'mc')
    		{
    			redirect('mc');
    		}
			
		});
		
	   function redirect(page){
	   	var location = "flights?action="+encodeURI(page);
		window.location.href = location;
	   }
	
    	$("#rt").click(function(){
    		if(action == 'mc')
    		{
    			redirect('');	
    		}
    		if($("#rt").prop('checked') == true){
    			$("#return").show();
    			$('.mobile-wt').removeClass('col-xs-12');
    			$('.mobile-wt').addClass('col-xs-6 xs-pr5');
    			$('#rmv_nomr').addClass('nomr');
    		}
    		else
    		{
    			$("#return").hide();
    		}
    		
    	});
    	
  	
    	
    $(function() {
    $('.depart_code, .arive_code').autocomplete({
  		 open: function(event, ui) {
	        	$('.ui-autocomplete').off('menufocus hover mouseover');
	        	$('#'+$(this).attr('id')).css('border-color','');
    		},
		autoFocus: true,
    	source: "get_airport/",
    	minLength: 2,
    	select: function(event, ui) {
    		var hiddenid = $(this).siblings('.fromid').attr('id');
    		$("#"+hiddenid).val(ui.item.id);
    	},
    	});
        
    	
    $( "#from" ).autocomplete({
  		 open: function(event, ui) {
	        	$('.ui-autocomplete').off('menufocus hover mouseover');
	        	$('#from').css('border-color','');
    		},
		autoFocus: true,
    	source: "get_airport/",
    	minLength: 2,
    	select: function(event, ui) {
    		$('#fromid').val(ui.item.id);
    	},
    });
    $( "#to" ).autocomplete({
  		open: function(event, ui) {
	        	$('.ui-autocomplete').off('menufocus hover mouseover');
	        	$('#to').css('border-color','');
    		},

		autoFocus: true,
    	source: "get_airport/",
    	minLength: 2,
    	select: function(event, ui) {
    		$('#toid').val(ui.item.id);
    	},
    });
  });
    	
    </script>
    <script>
    
    
     
	$(function(){
              $('#departMain').datepicker(
               	{
               		minDate: 0,
               		onSelect: function()
               		{
               			setTimeout(function function_name (argument) {
							 $('#returnMain').focus();
						   },200);
               			
               		},
               		  onClose: function(selectedDate) {
        					// Set the minDate of 'to' as the selectedDate of 'from'
        					if (selectedDate != '')
        					{
        						$("#returnMain").datepicker("option", "minDate", selectedDate);
        					}
        					else{
        						$("#returnMain").datepicker("option", "minDate", 0);	
        					}
    					}
               	}
               	
               );
              $('#returnMain').datepicker({
              		minDate:0,
              		onSelect: function()
               		{
               		/*	setTimeout(function function_name (argument) {
							 $('#cabintab').focus();
						   },50);
               			*/
               		},
              	
              	}) ;
       });

var total;
//@@increase decrease on buttom click
    $(function () {
    $('.add').on('click',function(){
    	total = tatalpassenger();
    	if(total < 6 )
    	{
        var $qty=$(this).closest('p').find('.qty');
        var currentVal = parseInt($qty.val());
        if (!isNaN(currentVal)) {
            $qty.val(currentVal + 1);
        }
        travelinfo();
       }
    });
    $('.minus').on('click',function(){
    	total = tatalpassenger();
    	if(total > 0){
        var $qty=$(this).closest('p').find('.qty');
        var currentVal = parseInt($qty.val());
        if (!isNaN(currentVal) && currentVal > 0) {
            $qty.val(currentVal - 1);
        }
        
        travelinfo();
       }
    });
    
});
$('#cabintype').on('change',function(){
	travelinfo();
});

$(document).ready(function(){
	var check = "{{request.GET.passenger}}";
	$('#passenger').val('1');
	$(".alert-warning").hide();
	if(check != ''){
		$('#adults').val('{{request.GET.passenger}}');
		travelinfo();
	}
});
//@@@Cabin select@@@@
function travelinfo(){
	total = tatalpassenger();
	$('#passenger').val(total);
	var text;
	if(total == 1){
		text = "traveler";
	}
	else{
		text = "travelers";
	}
	var selectedcabin = $("#cabintype option:selected").text();
	var html = "<span id='travelar'>"+total+" "+text+", "+selectedcabin+"</span>";
	$('#travelar').replaceWith(html);
	if(total == 0){
		var msg='';
		$('#submitid').prop('disabled', true);
		$(".alert-warning").empty();
		msg="You must select atleast one traveler";
		$(".alert-warning").append(msg);
		$(".alert-warning").show();
	}
	else{
		$('#submitid').prop('disabled', false);
		$(".alert-warning").hide();
	}
}
//@@@Total Passenger@@@@
function tatalpassenger() {
var sum = 0;
$('.numberHolder').each(function(){
    sum += parseFloat($(this).val());
});
return sum;
};
 
//@@not close on click dropdown

  $('.dropdown-menu .down-menu-block').click(function(e) {
        e.stopPropagation();
    });
    
    </script>
    
    <script>
  var CSRF_TOKEN = "{{ csrf_token }}";
  var triptype = '';
  var destinationid = '';
  var sourceid = '';
  var returndateval = '';
  var departdateval = '';
  var rdtrip = '';
  var trip = '';
  var multikey ='';
  var cabintypeval = '';
  var searchid ='';
  var returnid = '';
  var triptypeval = '';
  
  $('#flightSearchForm').validate({
        rules: {
        	from:"required",
        	to:"required"
            
            },
        messages: {
        	from:"Please enter valid airport",
        	to:"Please enter valid airport",
        }
    });
$("#submitid").click(function(event) {
	
		
    	
    	triptype = $("input[type='radio'][name='trip']:checked");
    	if (triptype.length > 0) {
		    triptypeval = triptype.val();
		    
		}
		if(action == 'mc')
		{
			for(c = 0; c < ($('[name="fromMain[]"]').length); c++)
			{
		    	if($('#fromOrigin'+c).val() == '' || $('#fromid'+c).val() == '')
		    	{
		    		$('#fromOrigin'+c).valid();
		    		$('#fromOrigin'+c).css('border-color','red');
		    		return false;
		    		event.preventDefault();
		    	} 
		    	if($('#toDest'+c).val() == '' || $('#to'+c).val() == '')
		    	{
		    		$('#toDest'+c).valid();
		    		$('#toDest'+c).css('border-color','red');
		    		return false;
		    		event.preventDefault();
		    	}
		    	if($('#departMain'+c).val() == '')
		    	{
		    		$('#departMain'+c).focus();
		    		return false;
		    		event.preventDefault();
		    	}
	    	}
    	}
    	else{
    		if($('#fromid').val().length<1 || $('#from').val() == '')
	    	{	
	    		$('#from').valid();
	    		$('#from').css('border-color','red');
	    		event.preventDefault();
	    		return false;
	    	}
    	 
	    	if($('#toid').val().length<1 || $('#to').val() == '')
	    	{
	    		$('#to').valid();
	    		$('#to').css('border-color','red');
	    		event.preventDefault();	
	    		return false;
	    	}
	    	if($('#departMain').val().length<1)
	    	{
	    		$('#departMain').focus();
	    		event.preventDefault();
	    		return false;	
	    	}
	    	if('roundTripBtn' == triptypeval)
	    	{
	    		if($('#returnMain').val().length<1)
		    	{
		    		$('#returnMain').focus();
		    		event.preventDefault();
		    		return false;	
		    	}
	    	}
    		
    	}
		
		sourceid = $('input[name="fromMain[]"]').map(function() {
				if(this.value != '')
				{
					//alert("test");
        			return this.value;
        		}
        		else{
        			
        			var intId = parseInt(($(this).attr("id")).slice(-1)); 
        			$('#fromOrigin'+intId).focus();
        			event.preventDefault();	
        			
        		}
        		
    			}).get();  
    	
		destinationid = $('input[name="toMain[]"]').map(function() {
        		return this.value;
    			}).get();           //$('[name="toMain"]').val(); //$('#toid').val();
		if(triptypeval == 'roundTripBtn')
		{
			returndateval = $('#returnMain').val();	
		}	
		departdateval = $('input[name="deptdate[]"]').map(function() {
        		return this.value;
    			}).get(); //$('[name="deptdate"]').val(); //$('#departMain').val();
		cabintypeval = $('#cabintype option:selected').val();
		
		searchData();
    });
  
  function searchData(){
  	$('#submitid').prop('disabled', true);
  	$.ajax({
        type: "POST",
        url: "/search/",
        data: "returndate="+ encodeURI(returndateval)+"&rndtripkey="+encodeURI(rdtrip) +"&cabin="+encodeURI(cabintypeval)+"&triptype="+ encodeURI(trip)+ "&fromMain="+ encodeURI(sourceid)+ "&toMain=" + encodeURI(destinationid)+ "&deptdate=" + encodeURI(departdateval) + "&csrfmiddlewaretoken=" + encodeURI(CSRF_TOKEN),
    	success: function(data){
        multikey = data[0];
        searchid1 = multikey.split(',');
        searchid = searchid1[0];
        
        var returnid='';
        if(data[1])
        {
        	returnid = data[1];
        }
        redirecttosearchpage(searchid,returnid); 
         //refreshIntervalId = setInterval(datacheck, 5000,searchid,returnid); 
    },
	
   });
 
  }	
  function redirecttosearchpage(searchid,returnkey){
 	multicity='';
 	if(multikey.indexOf(",") >= 0){
 		multicity = "&multicity="+encodeURI(multikey);
 	}
 	if(searchid != '')
	{  
	$('#searchid').val(searchid);
	var location = "getsearchresult?keyid="+ encodeURI(searchid)+"&cabin="+encodeURI(cabintypeval)+"&passenger="+encodeURI($('#passenger').val())+multicity;
	if(returnkey != ''){ location = location+"&returnkey="+encodeURI(returnkey);}
	window.location.href = location; 
	}
}
  	
  </script>

